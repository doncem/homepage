function zeroPad(a,b){var c=a+"";while(c.length<b){c="0"+c}return c}var colours=[3,2,4];function drawPlot(a,b){source=[];for(i in b.graphs){source.push({data:b.graphs[i].data,label:b.graphs[i].label,yaxis:b.graphs[i].y,bars:{show:b.graphs[i].bars},lines:{show:b.graphs[i].lines},color:colours[i]})}$.plot($("#"+a),source,{legend:{position:b.legend.position,backgroundOpacity:0.6},grid:{clickable:true,hoverable:true},xaxis:{tickSize:1,ticks:b.x.data,labelAngle:b.x.angle},yaxes:[{ticks:10},{alignTicksWithAxis:b.y.align,position:b.y.position}]})}function showTooltip(a,f,d,e,b){$('<div id="tooltip">'+(b?d.toFixed(3):d)+"</div>").css({top:f-30,left:a,backgroundColor:e,borderColor:e}).appendTo("body").fadeIn(200)}$(function(){g={p_year:{graphs:[{data:d_y,label:"movies ("+Math.ceil(d_y_m[0][1]*d_y_x.length)+")",bars:true,lines:false,y:1},{data:d_y_m,label:"mean",bars:false,lines:true,y:1},{data:d_y_s,label:"standard deviation",bars:false,lines:true,y:1}],legend:{position:"nw"},x:{data:d_y_x,angle:270},y:{align:null,position:"left"}},p_decade:{graphs:[{data:d_yd,label:"movies",bars:true,lines:false,y:1},{data:d_yd_m,label:"mean",bars:false,lines:true,y:1},{data:d_yd_s,label:"standard deviation",bars:false,lines:true,y:1}],legend:{position:"nw"},x:{data:d_yd_x,angle:0},y:{align:null,position:"left"}},p_genre:{graphs:[{data:d_g_m,label:"movies",bars:true,lines:false,y:1},{data:d_g_s,label:"tv shows",bars:true,lines:false,y:1},{data:d_g_c,label:"correlation",bars:false,lines:true,y:2}],legend:{position:"nw"},x:{data:d_g_x,angle:270},y:{align:1,position:"right"}},p_directed:{graphs:[{data:d_d,label:"#movies by directors",bars:true,lines:false,y:1}],legend:{position:"ne"},x:{data:d_d_x,angle:0},y:{align:null,position:"left"}}};for(i in g){drawPlot(i,g[i])}var a=null;var b=null;$(".placeholder").bind("plothover",function(d,e,c){if(c){$(this).css("cursor","pointer");if((a!=c.dataIndex)||(b!=c.series.label)){a=c.dataIndex;b=c.series.label;$("#tooltip").remove();showTooltip(c.pageX,c.pageY,c.datapoint[1],c.series.color,!(($(this).attr("id")=="p_year")||($(this).attr("id")=="p_decade")||(c.series.label=="correlation")))}}else{$(this).css("cursor","default");$("#tooltip").remove();a=null}});$(".placeholder").bind("plotclick",function(d,e,c){if(c){alert(c.dataIndex+"\n"+c.datapoint[0]+"\n"+c.datapoint[1]+"\n"+c.series.label+"\n"+c.series.xaxis.options.ticks[c.dataIndex][0]+"\n"+c.series.xaxis.ticks[c.dataIndex].v+"\n"+c.series.xaxis.options.ticks[c.dataIndex][1]+"\n"+c.series.xaxis.ticks[c.dataIndex].label)}})});