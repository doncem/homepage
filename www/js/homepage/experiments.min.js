var TOP_GAP_SCROLL=20;function activateExperiment(b){var a=b.children(".link-container").children("a");if(b.hasClass("active")){scrollToTop(b,TOP_GAP_SCROLL);window[getFunction(a.attr("href").substr(1))]()}else{if(a.attr("href").substr(0,1)==="#"){b.addClass("active");scrollToTop(b,TOP_GAP_SCROLL);window[getFunction(a.attr("href").substr(1))]()}else{window.location=$(this).attr("href")}}}function getFunction(a){arr=a.split("-");s=arr[0];for(i=1;i<arr.length;i++){s+=arr[i].substr(0,1).toUpperCase()+arr[i].substr(1)}return s}$.fn.attachExperiment=function(){var a=$(this).attr("id");if(!$("#"+a).hasClass("active")){if(a.substr(0,6)==="jquery"){$("#"+a).append('<p class="link-container"><a href="#'+a+'" class="launch-link">Launch it</a></p>')}else{$("#"+a).append('<p class="link-container"><a href="/'+a+'/">Go there</a></p>')}}$("#"+a).on("click",".launch-link",function(b){b.preventDefault();activateExperiment($("#"+a))})};$(function(){$(".experiment").each(function(a,b){$(b).attachExperiment()});$(".development-history-link").click(function(a){a.preventDefault();$(this).next(".development-history").slideToggle("fast")});if((window.location.pathname===$("#menu a.active").attr("href"))&&($(window.location.hash).length>0)){activateExperiment($(window.location.hash))}else{if($(".experiment.active").length>0){activateExperiment($(".experiment.active").first())}}$(window).bind("hashchange",function(){if($(window.location.hash).length>0){activateExperiment($(window.location.hash))}})});var jqueryWindowGrid=function(){var y=$("#jquery-window-grid-container");var e='<div id="grid-element-" class="grid-element" data-x="" data-y=""></div>';var p=4;var o="#012345";var l="#543210";var w=function(c,A){return Math.floor((c-p)/A-p-2*parseInt($(".grid-element").first().css("border-width")))};var a=function(c){return Math.floor((c-p)/(3+p))};var j=function(D,A,C,B,c){if(D==="prepend"){y.prepend(e)}else{y.append(e)}$("#grid-element-").attr("id","grid-element-"+q+"-"+f).attr("data-x",q).attr("data-y",f).animate({width:A,height:C,top:B,left:c,backgroundColor:o},"fast")};var n=function(){y.children("div").each(function(c,A){setTimeout(function(B){$(B).fadeOut("fast")},400)}).parent().hide("slow")};var b=function(){q--;$("#grid-element-"+(q+1)+"-"+f).animate({backgroundColor:l},"fast");if($("#grid-element-"+q+"-"+f).length>0){$("#grid-element-"+q+"-"+f).animate({backgroundColor:o},"fast")}else{var A=$(".grid-element[data-x='"+q+"']");var c=$(".grid-element[data-y='"+f+"']");if(A.length>0){j("prepend",c.first().width(),c.first().height(),parseInt(c.first().css("top")),parseInt(A.first().css("left")))}else{if(c.length<z){x--;var B=w($(window).width(),v-x+1);$(".grid-element").each(function(C,D){$(D).animate({left:(parseInt($(D).attr("data-x"))-q+1)*p+(parseInt($(D).attr("data-x"))-q)*(2*parseInt($(".grid-element").first().css("border-width"))+B),width:B},"fast")});j("prepend",B,c.first().height(),c.first().css("top"),p)}else{$(c[c.length-1]).animate({color:o},"fast");q=parseInt($(c[c.length-1]).attr("data-x"))}}}};var t=function(){f--;$("#grid-element-"+q+"-"+(f+1)).animate({backgroundColor:l},"fast");if($("#grid-element-"+q+"-"+f).length>0){$("#grid-element-"+q+"-"+f).animate({backgroundColor:o},"fast")}else{var A=$(".grid-element[data-x='"+q+"']");var c=$(".grid-element[data-y='"+f+"']");if(c.length>0){j("prepend",c.first().width(),c.first().height(),parseInt(c.first().css("top")),parseInt(A.first().css("left")))}else{if(A.length<d){u--;var B=w($(window).height(),r-u+1);$(".grid-element").each(function(C,D){$(D).animate({top:(parseInt($(D).attr("data-y"))-f+1)*p+(parseInt($(D).attr("data-y"))-f)*(2*parseInt($(".grid-element").first().css("border-width"))+B),height:B},"fast")});j("prepend",A.first().width(),B,p,parseInt(A.first().css("left")))}else{$(A[A.length-1]).animate({color:o},"fast");f=parseInt($(A[A.length-1]).attr("data-y"))}}}};var g=function(){q++;$("#grid-element-"+(q-1)+"-"+f).animate({backgroundColor:l},"fast");if($("#grid-element-"+q+"-"+f).length>0){$("#grid-element-"+q+"-"+f).animate({backgroundColor:o},"fast")}else{var A=$(".grid-element[data-x='"+q+"']");var c=$(".grid-element[data-y='"+f+"']");if(A.length>0){j("append",c.first().width(),c.first().height(),parseInt(c.first().css("top")),parseInt(A.first().css("left")))}else{if(c.length<z){v++;var B=w($(window).width(),v-x+1);$(".grid-element").each(function(C,D){$(D).animate({left:(v-x-q+parseInt($(D).attr("data-x"))+1)*p+(v-x-q+parseInt($(D).attr("data-x")))*(2*parseInt($(".grid-element").first().css("border-width"))+B),width:B},"fast")});j("append",B,c.first().height(),c.first().css("top"),(v-x+1)*p+(v-x)*(2*parseInt($(".grid-element").first().css("border-width"))+B))}else{$(c[0]).animate({color:o},"fast");q=parseInt($(c[0]).attr("data-x"))}}}};var h=function(){f++;$("#grid-element-"+q+"-"+(f-1)).animate({backgroundColor:l},"fast");if($("#grid-element-"+q+"-"+f).length>0){$("#grid-element-"+q+"-"+f).animate({backgroundColor:o},"fast")}else{var A=$(".grid-element[data-x='"+q+"']");var c=$(".grid-element[data-y='"+f+"']");if(c.length>0){j("append",c.first().width(),c.first().height(),parseInt(c.first().css("top")),parseInt(A.first().css("left")))}else{if(A.length<d){r++;var B=w($(window).height(),r-u+1);$(".grid-element").each(function(C,D){$(D).animate({top:(r-u-f+parseInt($(D).attr("data-y"))+1)*p+(r-u-f+parseInt($(D).attr("data-y")))*(2*parseInt($(".grid-element").first().css("border-width"))+B),height:B},"fast")});j("append",A.first().width(),B,(r-u+1)*p+(r-u)*(2*parseInt($(".grid-element").first().css("border-width"))+B),A.first().css("left"))}else{$(A[0]).animate({color:o},"fast");f=parseInt($(A[0]).attr("data-y"))}}}};if(y.children("div").length>1){y.show("slow").children("div").each(function(c,A){setTimeout(function(B){$(B).fadeIn("fast")},400)})}else{var q=1;var f=1;var z=a($(window).width());var d=a($(window).height());var v=1;var r=1;var x=1;var u=1;y.css({paddingLeft:p,paddingTop:p,width:$(window).width()-p,height:$(window).height()-p}).show("slow",function(){$(this).children("div").css({left:p,top:p,width:$(window).width()-2*(p+1),height:$(window).height()-2*(p+1),backgroundColor:o}).fadeIn("fast")})}var m=function(c){switch(c){case 27:n();break;case 37:b();break;case 38:t();break;case 39:g();break;case 40:h();break}};var k;$(window).keyup(function(c){c.preventDefault();k=setTimeout(m,k!==undefined?100:0,c.which)});$(window).resize(function(){z=a($(window).width());d=a($(window).height());var A=w($(window).width(),v-x+1);var c=w($(window).height(),r-u+1);y.css({width:$(window).width()-p,height:$(window).height()-p});$(".grid-element").each(function(B,C){$(C).animate({top:(parseInt($(C).attr("data-y"))-u+1)*p+(parseInt($(C).attr("data-y"))-u)*(2*parseInt($(".grid-element").first().css("border-width"))+c),left:(parseInt($(C).attr("data-X"))-x+1)*p+(parseInt($(C).attr("data-x"))-x)*(2*parseInt($(".grid-element").first().css("border-width"))+A),width:A,height:c},"fast")})})};