var backspace=function(){var a=$("#search-q").val().split("");if(a.length>0){a.pop();$("#search-q").val(a.join(""))}};var shift=function(){var b=["Q","W","E","R","T","Y","U","I","O","P"];var a=$("#shift").html()==="ABC";$("#input-1 .letter").each(function(c,d){if(a){$(d).html(b[c])}else{$(d).html(c)}});if(a){$("#shift").html("1-2-3")}else{$("#shift").html("ABC")}};var space=function(){var a=$("#search-q").val().split("");a.push(" ");$("#search-q").val(a.join(""))};var doSearch=function(){if($("#search-q").val().length>0){$.getJSON("/jukebox/get-songs/"+encodeURI($("#search-q").val()),function(a){if(a.error!==undefined){$("#results").html("we received an error: "+a.error);return}}).error(function(){$("#results").html("something went wrong - could complete search")});$.post("/jukebox/get-songs/",$("#search-q").serialize(),function(a){$("#results").html(a)})}};var resizeMe=function(){var a=$(window).width();var b=$(window).height();$("#page").width(a);$("#page").height(b-$("#results-container > ul").height());$("#keyboard").width(a);$("#results").css({marginTop:$("#results-container > ul").height()});$("#results").height(b-$("#results-container > ul").height())};$(function(){resizeMe();$(window).resize(function(){resizeMe()});$("#search-clear").click(function(){$("#search-q").val("")});$("#search-container").on("focus","input",function(){if($("#keyboard-container").is(":hidden")){$("#keyboard-container").slideDown("slow")}});$(window).click(function(){if($("#search-container input:focus,#keyboard button:focus").length===0){$("#keyboard-container").slideUp("slow")}});$("#results-container").on("scroll","#results",function(){$("#keyboard-container").slideUp("slow")});var a=false;$("#keyboard button").click(function(){var b=$(this).attr("id");if((b!==undefined)&&(b!==false)){window[b]()}else{$("#search-q").val($("#search-q").val()+$(this).html())}if($("#search-q").val().length>2){if((a!==undefined)&&(a!==false)){clearTimeout(a)}a=setTimeout("doSearch()",500)}})});